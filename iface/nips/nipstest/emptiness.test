#!/bin/sh

. ./defs || exit 1

set -e

ALGO="Cou99 CVWY90 GV04 SE05 Tau03 Tau03"

# Non empty.
BYTECODE="dinner.pr.nips.b never.pr.b"
for algo in $ALGO; do
    for bytecode in $BYTECODE; do
	run 0 "$top_builddir/empt_check" -c -e$algo "$srcdir/$bytecode" |
	grep '^non empty$' > /dev/null  || exit 1
    done
done

# Empty
BYTECODE="peterson.pm.b"
for algo in $ALGO; do
    for bytecode in $BYTECODE; do
	run 0 "$top_builddir/empt_check" -c -e$algo "$srcdir/$bytecode" |
	grep '^empty$' > /dev/null || exit 1
    done
done
